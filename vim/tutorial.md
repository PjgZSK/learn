# Vim 入门教程
## 前言
1. 关于vim的入门教程，网络上大多是给出一些常用命令，而忽略了vim本身的设计风格。在我个人看来，了解vim的  
    设计风格，才是通向vim的第一步。
2. vim的定位是作为英文世界的可定制编辑器，所以在基本功能上是照顾了英文也可以说是表音文字的。所以有些命令的  
    的设计是直接以表音文字为基础的，比如"w [number] motion"此类经典的命令模式。  
3. vim的架构分为内嵌功能和可定制功能。内嵌功能包括基本的增删查改，定位，控制台等，可定制功能当下是以插件的  
    的形式提供。本文主要讲的是基础的内嵌功能。对于英文使用者，基础的内嵌功能已经能满足写作的需求。  
4. 此教程是以macvim自带的入门教程为基础修改而来。  
## vim的层级
1. 写作层  
    在此层级除特殊符号（ctrl等），其他输入都直接作为写作的输入。这是vim的核心功能。  
2. 命令层  
    不同的输入会调用不同的功能，这里的输入是作为命令的一部分。  
3. 层级的转换  
    写作层转入命令层 ： esc  
    命令层转入写作层 ： i，a，A，o...  
## 写作层的划分  
1. word  
    单词，单词与单词之间使用空格区分，英文缩写为w，此外还有e（word end）   
2. row  
    行，这是最重要的一个划分。  
## 命令层的划分  
1. 直接命令  
    在命令层直接输入相应的命令，无需前置字符。此种命令基本上是最常用的命令，如光标移动命令，复制删除命令等。  
2. 衍生命令  
    需要输入前置字符，再输入实际的命令。当下的前置字符只有一个，就是":"。前置字符主要是为了避免命令冲突，如  
    ":w"和"w"，如果没有前置字符":"则不能区分保存和跳转到当前行的下一个单词首字符两个命令。
## 常用直接命令
1. 移动命令  
    左下上右 hjkl  
2. 行内跳转命令  
    w 跳转到下一个单词首字符  
    e 跳转到下一个单词尾字符  
    [number] w/e —— 跳转number个单词
    0 跳转到行首  
    $ 跳转到行尾  
3. 转入写作层命令  
    i 在当前光标前插入  
    a 在当前光标后插入  
    A 在当前行尾插入  
    o 在当前行下方另起一行插入  
    O 在当前行上方另起一行插入  
4. 转入命令层命令  
    esc 从写作层转入命令层  
5. 删除/替换/修改/复制/粘贴命令  
    x 删除当前光标所在的字符  
    d motion 常见的有 d$ —— 删除当前光标开始到行尾的字符  
                      dw —— 删除当前光标开始到下一个单词起始处，不包括它的第一个字符  
                      de —— 删除当前光标开始到当前单词结尾处，包括它的最后一个字符  
                      dd —— 删除/剪切当前行  
    d [number] motion 常见的有 d2w —— 删除当前光标开始的两个单词  
    替换和修改命令模式与删除命令类似，不同的是替换命令是字符r，修改命令是字符c。  
    修改命令是先删除后进入写作层，且能直接套用上面的模版，因为本质上修改命令是包含了删除命令的；  
    而替换命令每次只能替换一个字符，替换前后还处于命令层。  
    如果需要替换多个字符，需使用R进入连续替换模式，使用esc推出连续替换模式。  
    复制命令是字符y，与删除命令模式类似。  
    粘贴命令是字符p，粘贴上一次删除/复制的内容。  
6. 行间跳转命令  
    Ctrl+G 显示当前文件和行列信息  
    gg 跳转至第一行  
    G 跳转至最后一行  
7. 查找与替换（替换是衍生命令）  
    / 正向查找单词  
    ？反向查找单词  
    完成一次查找后n是正向查找下一个匹配的单词，N是反向查找下一个匹配的单词  
    :s/old/new      在当前行内替换第一个匹配的单词  
    :s/old/new/g    在当前行内替换所有匹配的单词
    :#,#s/old/new/g 在指定行之间替换所有匹配的单词  
    :%s/old/new/g   在全文内替换所有匹配的单词  
    :s/old/new/gc   全文替换但是需确认  
8. 选中和括号匹配  
    v 进入选中模式  
    % 跳转到当前括号所匹配的括号上，再次%则返回  
## 常用衍生命令  
1. 保存命令  
    :w filename 命名保存，可保存选中的局部内容  
2. 执行外部命令行命令  
    :!command 如 :!ls 列出当前文件夹下文件  
3. 插入其他文件命令  
    :r filename 在当前光标处插入指定文件的所有内容  
    :r !command 在当前光标处插入指定命令执行的结果内容  
4. 退出命令  
    :q 退出
    :q! 强制退出
    :wq 保存退出  
## 特殊命令  
1. 手册  
    vim内置了详细的使用手册，可以使用F1进入手册页面
    help [content] 在手册中查找内容，并打开相关的页面  
2. 补全  
    Ctrl+D 查看补全列表  
    tab 补全当前命令  
3. 页面间跳转  
    Ctrl+w Ctrl+w  
## 自定义功能（vimrc）
1. vim的高级和定制内容都是通过启动时通过读取vimrc文件得以加载。  
2. 用户vimrc文件位置：
    ~/.vimrc  
3. 载入vimrc模板(vimrc模板非常弱，关于vimrc的内容请查找其他资料)  
    :edit ~/.vimrc  
    :r $VIMRUNTIME/vimrc_example.vim  
    :w  
